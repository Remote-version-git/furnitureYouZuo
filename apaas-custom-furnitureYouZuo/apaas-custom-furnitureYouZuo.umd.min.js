(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["apaas-custom-furnitureYouZuo"]=e():t["apaas-custom-furnitureYouZuo"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"0753":function(t,e,n){"use strict";n("0b3e")},"0b3e":function(t,e,n){},3974:function(t,e,n){"use strict";n("ad19")},"3f21":function(t,e,n){"use strict";n("5247")},5247:function(t,e,n){},5333:function(t,e,n){},8875:function(t,e,n){var a,r,i;(function(n,s){r=[],a=s,i="function"===typeof a?a.apply(e,r):a,void 0===i||(t.exports=i)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,a,r,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,o=i.exec(f.stack)||s.exec(f.stack),l=o&&o[1]||!1,c=o&&o[2]||!1,u=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");l===u&&(n=document.documentElement.outerHTML,a=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(a,"$1").trim());for(var p=0;p<d.length;p++){if("interactive"===d[p].readyState)return d[p];if(d[p].src===l)return d[p];if(l===u&&d[p].innerHTML&&d[p].innerHTML.trim()===r)return d[p]}return null}}return t}))},a80c:function(t,e,n){"use strict";n("5333")},a879:function(t,e,n){"use strict";n("d8b6")},ad19:function(t,e,n){},d8b6:function(t,e,n){},fb15:function(t,e,n){"use strict";if(n.r(e),"undefined"!==typeof window){var a=window.document.currentScript,r=n("8875");a=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var i=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"apaas-custom-page-furnitureYouZuo custom-page"},[e("ProgressEdit"),e("div",{staticClass:"page-header"},[e("div",{staticClass:"title"},[t._v(" 自开发界面 ")]),e("div",{staticClass:"operation"},[e("x-svg-icon",{staticClass:"pointer",staticStyle:{cursor:"pointer"},attrs:{name:"refresh-icon"},nativeOn:{click:function(e){return t.handleRefresh()}}})],1)]),e("div",{staticClass:"page-search-panel"},[e("el-form",{staticClass:"search-list"},[t._l(t.searchListConfig,(function(n){return[e(n.component,{key:n.searchKey,tag:"component",attrs:{label:n.label,extraConfig:n.extraConfig,searchKey:n.searchKey,searchValue:t.searchPanelValue[n.searchKey]},on:{change:function(e){return t.handleSearchValueChange(n.searchKey,e)}}})]}))],2),e("div",{staticClass:"search-button-group"},[e("el-button",{attrs:{"native-type":"reset"},on:{click:function(e){return t.resetSearch()}}},[t._v(" 重置 ")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSearch()}}},[t._v(" 查询 ")])],1)],1),e("div",{staticClass:"page-data-list"},[e("x-vxe-table",{ref:"vxeTable",staticClass:"block-table",attrs:{border:!0,seqWidth:40,colConfigs:t.tableConfig.colConfigs,tableData:t.tableData,rowDraggable:t.tableConfig.rowDraggable,seqType:t.tableConfig.seqType,pagination:t.pagination,layout:t.tableConfig.layout,seqConfig:t.tableConfig.seqConfig,autoSize:t.tableConfig.autoSize,pageConfig:t.tableConfig.pageConfig},on:{"table-row-click":t.rowClickEvent,"size-change":t.pageSizeChange,"current-page-change":t.currentChange,"select-data-change":t.selectDataChange},scopedSlots:t._u([t._l(t.tableConfig.colConfigs,(function(n,a){return{key:n.customHeadSlot,fn:function(r){var i=r.column;return[n.customHeadSlot?e("div",{key:a},[t._v(" "+t._s(i)+" "+t._s(n)+" ")]):t._e()]}}})),t._l(t.tableConfig.colConfigs,(function(n,a){return{key:n.customSlot,fn:function(r){var i=r.row,s=r.rowIndex;return["options"===n.customSlot?e("div",{key:a+""+s},[e("a",{staticClass:"el-link el-link--primary",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),t.handleRowDetail(i)}}},[t._v("详情")]),e("span",{staticStyle:{width:"4px",display:"inline-block"}}),e("a",{staticClass:"el-link el-link--primary",attrs:{href:"javascript:void(0)"},on:{click:function(e){return e.stopPropagation(),t.handleRowEdit(i)}}},[t._v("编辑")])]):t._e(),"status"===n.customSlot?e("div",{key:a+""+s},[i[n.prop]?e("span",{staticStyle:{background:"#67C23A",padding:"4px 8px",color:"white","border-radius":"20px"}},[t._v("生效")]):t._e(),i[n.prop]?t._e():e("span",{staticStyle:{background:"#F56C6C",padding:"4px 8px",color:"white","border-radius":"20px"}},[t._v("失效")])]):t._e()]}}}))],null,!0)},[e("template",{slot:"empty"},[e("div",{staticClass:"table-empty"},[e("x-empty-page")],1)])],2)],1),e("detail-drawer",{ref:"detailDrawer"}),e("edit-modal",{ref:"editModal"})],1)},o=[],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-component search-input"},[e("el-form-item",[e("template",{slot:"label"},[e("x-ellipsis",{staticClass:"fix-cursor",attrs:{mode:"origin",label:t.label}})],1),e("el-input",{attrs:{placeholder:"请输入"},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],2)],1)},c=[],u={model:{prop:"searchValue",event:"change"},props:{label:{type:String,required:!0},searchKey:{type:String,required:!0},searchValue:{required:!0},extraConfig:{type:Object,default:function(){return{}}}},computed:{computedValue:{get:function(){return this.searchValue},set:function(t){this.$emit("change",t)}}}},d=u,p={name:"SearchInput",mixins:[d]},f=p;function h(t,e,n,a,r,i,s,o){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var m=h(f,l,c,!1,null,null,null),g=m.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-component search-date"},[e("el-form-item",[e("template",{slot:"label"},[e("x-ellipsis",{staticClass:"fix-cursor",attrs:{mode:"origin",label:t.label}})],1),e("el-date-picker",{attrs:{type:t.dateDisplayStyle,"range-separator":"~","value-format":t.valueFormat,"start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}})],2)],1)},y=[],b={name:"SearchDate",mixins:[d],computed:{dateDisplayStyle:function(){return"DATE_TIME"===this.extraConfig.dateDisplayStyle?"datetimerange":"YEAR_MONTH"===this.extraConfig.dateDisplayStyle?"monthrange":"ONLY_YEAR"===this.extraConfig.dateDisplayStyle?"year":"daterange"},valueFormat:function(){return"DATE_TIME"===this.extraConfig.dateDisplayStyle?"yyyy-MM-dd HH:mm:ss":"YEAR_MONTH"===this.extraConfig.dateDisplayStyle?"yyyy-MM":"ONLY_YEAR"===this.extraConfig.dateDisplayStyle?"yyyy":"yyyy-MM-dd"}}},_=b,S=(n("a879"),h(_,v,y,!1,null,null,null)),C=S.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-component search-number"},[e("el-form-item",[e("template",{slot:"label"},[e("x-ellipsis",{staticClass:"fix-cursor",attrs:{mode:"origin",label:t.label}})],1),e("div",{staticClass:"range-item"},[e("x-number-input",{staticClass:"form-el-input-number",attrs:{placeholder:"请输入"},model:{value:t.minValue,callback:function(e){t.minValue=e},expression:"minValue"}}),e("div",{staticClass:"range-item-divide"},[t._v(" ~ ")]),e("x-number-input",{staticClass:"form-el-input-number",attrs:{placeholder:"请输入"},model:{value:t.maxValue,callback:function(e){t.maxValue=e},expression:"maxValue"}})],1)],2)],1)},x=[];function D(t){return M(t)||V(t)||k(t)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t,e){if(t){if("string"===typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}function V(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function M(t){if(Array.isArray(t))return E(t)}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var j={name:"SearchNumber",mixins:[d],computed:{minValue:{get:function(){return this.computedValue&&this.computedValue[0]},set:function(t){var e=this.computedValue?D(this.computedValue):[];e[0]=t,this.computedValue=D(e)}},maxValue:{get:function(){return this.computedValue&&this.computedValue[1]},set:function(t){var e=this.computedValue?D(this.computedValue):[];e[1]=t,this.computedValue=D(e)}}}},P=j,z=(n("0753"),h(P,w,x,!1,null,null,null)),A=z.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-component search-select"},[e("el-form-item",[e("template",{slot:"label"},[e("x-ellipsis",{staticClass:"fix-cursor",attrs:{mode:"origin",label:t.label}})],1),t.lazyLoad?e("el-select",{directives:[{name:"el-select-loadmore",rawName:"v-el-select-loadmore",value:t.loadMore,expression:"loadMore"}],staticClass:"select-input",attrs:{"filter-method":t.loadFilter,clearable:"",filterable:"",placeholder:"请选择","collapse-tags":"",multiple:t.multiple},on:{"visible-change":t.loadDataOnVisible},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1):e("el-select",{staticClass:"select-input",attrs:{clearable:"",filterable:"",placeholder:"请选择","collapse-tags":"",multiple:t.multiple},model:{value:t.computedValue,callback:function(e){t.computedValue=e},expression:"computedValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.id,attrs:{label:t.label,value:t.id}})})),1)],2)],1)},L=[];function $(t){return q(t)||H(t)||N(t)||I()}function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(t,e){if(t){if("string"===typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function H(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function q(t){if(Array.isArray(t))return R(t)}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var F={name:"SearchSelect",directives:{"el-select-loadmore":{bind:function(t,e){var n=t.querySelector(".el-select-dropdown .el-select-dropdown__wrap");n.addEventListener("scroll",(function(){var t=this.scrollHeight-this.scrollTop<=this.clientHeight;t&&e.value()}))}}},mixins:[d],data:function(){return{pageInfo:{page:1,pageSize:50,keyWord:""},loadingData:!1,options:[]}},computed:{lazyLoad:function(){return this.extraConfig.lazyLoad},multiple:function(){return this.extraConfig.multiple}},watch:{"extraConfig.selectOptions":{handler:function(t,e){this.options=t||[]},immediate:!0}},methods:{loadMore:function(){this.pageInfo.page++,this.loadData()},loadFilter:function(t){this.pageInfo.page=1,this.pageInfo.keyWord=t,this.loadData("replace")},loadData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";this.loadingData=!0,this.extarConfig.loadData(this.pageInfo).then((function(n){"add"===e?t.options=[].concat($(t.options),$(n)):"replace"===e&&(t.options=n)}),(function(t){})).finally((function(){t.loadingData=!1}))}}},Y=F,K=h(Y,T,L,!1,null,null,null),U=K.exports,W=function(){var t=this,e=t._self._c;return e("x-drawer",t._g({attrs:{"append-to-body":!0,"destroy-on-close":!0,drawerVisible:t.visible,"wrapper-class":"detail-draw",title:"自开发详情页",width:"calc(50% + 32px)"},on:{"update:drawerVisible":function(e){t.visible=e},"update:drawer-visible":function(e){t.visible=e}}},t.$listeners))},Z=[],B={name:"DetailDrawer",data:function(){return{visible:!1}},created:function(){},methods:{showDrawer:function(){this.visible=!0},closeDrawer:function(){this.visible=!1}}},X=B,G=h(X,W,Z,!1,null,null,null),J=G.exports,Q=function(){var t=this,e=t._self._c;return e("x-modal",t._g({attrs:{"append-to-body":!0,"destroy-on-close":!0,modalVisible:t.visible,"wrapper-class":"edit-modal",title:"自开发编辑页",width:"calc(50% + 32px)"},on:{"update:modalVisible":function(e){t.visible=e},"update:modal-visible":function(e){t.visible=e}}},t.$listeners),[e("div",{staticStyle:{height:"60vh"}})])},tt=[],et={name:"EditModal",data:function(){return{visible:!1}},created:function(){},methods:{showModal:function(){this.visible=!0},closeModal:function(){this.visible=!1}}},nt=et,at=h(nt,Q,tt,!1,null,null,null),rt=at.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-edit"},[e("div",{staticClass:"time_line_box"},[e("div",{staticClass:"time_line",staticStyle:{}},[e("ol",t._l(t.nodes,(function(n,a){return e("li",[e("div",{staticClass:"order_item",class:{finished:"completed"==n.status,selected:"active"==n.status},style:t.getLeft(a)},[n.title?e("p",{staticClass:"title",class:{len:n.length},on:{click:function(e){return t.showDetail(n)}}},[t._v(t._s(n.title)+" "),n.length?e("span",{staticClass:"tip"},[t._v(t._s(n.length))]):t._e()]):t._e(),e("p",[t._v(t._s(n.statusName))]),e("p",[t._v(t._s(n.desc))])])])})),0),e("span",{staticClass:"filling_line",staticStyle:{transform:"scaleX(0.28)"}})])]),e("el-dialog",{attrs:{visible:t.open},on:{close:function(e){t.open=!1}}},[e("div",{staticStyle:{"max-height":"60vh",overflow:"auto"}},[e("el-steps",{attrs:{active:t.currentList.length,direction:"vertical"}},t._l(t.currentList,(function(n,a){return e("el-step",{key:a,attrs:{active:"",title:n.nodeName+"("+n.lineCode+")"}},[e("template",{slot:"description"},[e("p",[t._v(t._s(n.nodeDate))]),e("p",[t._v(t._s(n.status))])])],2)})),1)],1)])],1)},st=[],ot={name:"ProgressEdit",props:["orderCode","url"],mounted:function(){},created:function(){var t=this;this.$request({method:"get",url:this.url+"/custom/crm/getOrderCurrentProgress",params:{orderCode:this.orderCode}}).asyncThen((function(e){if(e.data){e.data.forEach((function(e,n){t.finishStatus.indexOf(e.status)>-1?e.checkStatus=1:e.checkStatus=0}));var n=[{title:"订单创建",desc:"订单创建",status:"completed"},{title:"提交",desc:"业务员提交",status:"completed"}];t.nodes=n,e.data.forEach((function(e,n){t.finishStatus.indexOf(e.status)>-1?e.checkStatus="completed":t.waitStatus.indexOf(e.status)>-1?e.checkStatus="active":e.checkStatus="unactive";var a=0;e.list&&(a=e.list.length);var r={title:e.nodeName,desc:e.nodeDate,status:e.checkStatus,statusName:e.status,children:e.list,length:a};t.nodes.push(r)}))}}))},data:function(){return{finishStatus:["审核","自然关闭","短缺关闭","已完成","已核销","月结客户","完工","已核准","已认款"],waitStatus:["审核中","进行中","部分认款","部分核销"],orderStyle:{},orders:[],currentList:[],nodes:[],open:!1}},methods:{showDetail:function(t){t.children&&t.children.length>0&&(this.open=!0,this.currentList=t.children)},handleClose:function(){this.open=!1,this.currentList=[]}},computed:{getLeft:function(){return function(t){var e=100/this.nodes.length;return"left:"+(e*t+5)+"%"}}}},lt=ot,ct=(n("3974"),h(lt,it,st,!1,null,null,null)),ut=ct.exports;function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht={name:"ApaasCustomFurnitureYouZuo",components:{ProgressEdit:ut,SearchInput:g,SearchDate:C,SearchNumber:A,SearchSelect:U,DetailDrawer:J,EditModal:rt},data:function(){return{searchPanelValue:{},tableData:[],pagination:{currentPage:1,pageSize:10,total:0}}},computed:{searchListConfig:function(){return[{component:"SearchInput",label:"输入框",searchKey:"queryInput"},{component:"SearchDate",label:"日期",searchKey:"queryDate"},{component:"SearchNumber",label:"数字",searchKey:"queryNumber"},{component:"SearchSelect",label:"下拉框",searchKey:"querySelect",extraConfig:{selectOptions:[{id:"1",label:"选项1"},{id:"2",label:"选项2"}]}}]},tableConfig:function(){return{rowDraggable:!1,colConfigs:[{prop:"po_no",showOverflowTooltip:!0,label:"订单"},{prop:"po_title",label:"描述",showOverflowTooltip:!0,minWidth:"350"},{prop:"po_cus_name",label:"客户名称",showOverflowTooltip:!0,minWidth:"350"},{prop:"po_total",label:"订单金额",showOverflowTooltip:!0,width:"120",align:"right"},{prop:"status",customSlot:"status",label:"状态",width:"120",align:"center"},{prop:"options",label:"操作",customSlot:"options",align:"center",width:"80",fixed:"right"}],seqType:"checkbox",seqConfig:{fixed:!0},layout:"total, prev, pager, next, sizes"}}},created:function(){this.loadData()},methods:{pageSizeChange:function(t){this.pagination.pageSize=t},rowClickEvent:function(t){console.warn(t)},handleRowDetail:function(t){this.$refs.detailDrawer.showDrawer()},handleRowEdit:function(t){this.$refs.editModal.showModal()},currentChange:function(t){this.pagination.currentPage=t,this.loadData()},selectDataChange:function(t){this.$emit("select-data-change",t)},handleSearchValueChange:function(t,e){this.$set(this.searchPanelValue,t,e)},resetSearch:function(){this.searchPanelValue={},this.handleSearch()},handleSearch:function(){this.loadData()},handleRefresh:function(){this.pagination.currentPage=1,this.handleSearch()},loadData:function(){var t=this,e={page:this.pagination.currentPage,pageSize:this.pagination.pageSize,queryFilter:pt({},this.searchPanelValue)};this.$request({url:"https://d6a32490-4355-4e84-b5e6-bf24046a87be.mock.pstmn.io/order-list?page=".concat(this.pagination.currentPage),method:"POST",disableSuccessMsg:!0,params:e}).asyncThen((function(e){t.tableData=e.data,t.pagination.total=e.total}))}}},mt=ht,gt=(n("a80c"),h(mt,s,o,!1,null,null,null)),vt=gt.exports,yt=[],bt=yt,_t=[ut],St=_t,Ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-app"},[e("div",{staticClass:"progress-app-header"},[e("p",[t._v("订单："+t._s(t.orderCode))]),e("p",[t._v("客户："+t._s(t.customer))]),e("p",[t._v("业务员："+t._s(t.salesman))]),e("p",[t._v("金额："+t._s(t.money)+"("+t._s(t.currency)+")")])]),e("div",{staticClass:"progress-app-body"},[e("div",{staticClass:"time_line_box"},[e("ul",{staticClass:"time_line",staticStyle:{}},[t._l(t.nodes,(function(n,a){return e("li",[e("div",{staticClass:"order_item"},[e("div",{staticClass:"circle",class:{finished:"completed"==n.status,selected:"active"==n.status}},["unactive"==n.status?e("svg",{staticClass:"icon",attrs:{t:"1669777195864",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2195",width:"20",height:"20"}},[e("path",{attrs:{d:"M704.13 576.11c42.74 0 82.92 16.64 113.14 46.86s46.86 70.4 46.86 113.14-16.64 82.92-46.86 113.14-70.4 46.86-113.14 46.86-82.91-16.65-113.13-46.87-46.86-70.4-46.86-113.14 16.64-82.92 46.86-113.14c30.22-30.21 70.39-46.85 113.13-46.85m0-64c-123.71 0-224 100.29-224 224s100.29 224 224 224 224-100.29 224-224-100.29-224-224-224zM641.01 223.5h-362c-17.67 0-32 14.33-32 32s14.33 32 32 32h362c17.67 0 32-14.33 32-32s-14.33-32-32-32zM542.77 400.75H279.01c-17.67 0-32 14.33-32 32s14.33 32 32 32h263.76c17.67 0 32-14.33 32-32s-14.33-32-32-32zM369.76 578h-90.75c-17.67 0-32 14.33-32 32s14.33 32 32 32h90.75c17.67 0 32-14.33 32-32s-14.33-32-32-32z","p-id":"2196",fill:"#999999"}}),e("path",{attrs:{d:"M605.13 704.11c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.32-32-32-32zM704.13 704.11c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.32-32-32-32zM803.13 704.11c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.32-32-32-32z","p-id":"2197",fill:"#999999"}}),e("path",{attrs:{d:"M411.42 960h-198.4c-61.76 0-112-50.24-112-112V176c0-61.76 50.24-112 112-112H707c61.76 0 112 50.24 112 112v242.21c0 17.67-14.33 32-32 32s-32-14.33-32-32V176c0-26.47-21.53-48-48-48H213.02c-26.47 0-48 21.53-48 48v672c0 26.47 21.53 48 48 48h198.4c17.67 0 32 14.33 32 32s-14.33 32-32 32z","p-id":"2198",fill:"#999999"}})]):t._e(),"active"==n.status?e("svg",{staticClass:"icon",attrs:{t:"1669777268367",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2553",width:"20",height:"20"}},[e("path",{attrs:{d:"M704.13 576.11c42.74 0 82.92 16.64 113.14 46.86s46.86 70.4 46.86 113.14-16.64 82.92-46.86 113.14-70.4 46.86-113.14 46.86-82.91-16.65-113.13-46.87-46.86-70.4-46.86-113.14 16.64-82.92 46.86-113.14c30.22-30.21 70.39-46.85 113.13-46.85m0-64c-123.71 0-224 100.29-224 224s100.29 224 224 224 224-100.29 224-224-100.29-224-224-224zM641.01 223.5h-362c-17.67 0-32 14.33-32 32s14.33 32 32 32h362c17.67 0 32-14.33 32-32s-14.33-32-32-32zM542.77 400.75H279.01c-17.67 0-32 14.33-32 32s14.33 32 32 32h263.76c17.67 0 32-14.33 32-32s-14.33-32-32-32zM369.76 578h-90.75c-17.67 0-32 14.33-32 32s14.33 32 32 32h90.75c17.67 0 32-14.33 32-32s-14.33-32-32-32z","p-id":"2554",fill:"#3370FF"}}),e("path",{attrs:{d:"M411.42 960h-198.4c-61.76 0-112-50.24-112-112V176c0-61.76 50.24-112 112-112H707c61.76 0 112 50.24 112 112v242.21c0 17.67-14.33 32-32 32s-32-14.33-32-32V176c0-26.47-21.53-48-48-48H213.02c-26.47 0-48 21.53-48 48v672c0 26.47 21.53 48 48 48h198.4c17.67 0 32 14.33 32 32s-14.33 32-32 32z","p-id":"2555",fill:"#3370FF"}}),e("path",{attrs:{d:"M794 804h-93c-28.67 0-52-23.33-52-52v-96c0-17.67 14.33-32 32-32s32 14.33 32 32v84h81c17.67 0 32 14.33 32 32s-14.33 32-32 32z","p-id":"2556",fill:"#3370FF"}})]):t._e(),"completed"==n.status?e("svg",{staticClass:"icon",attrs:{t:"1669777305869",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2769",width:"20",height:"20"}},[e("path",{attrs:{d:"M704.13 576.11c42.74 0 82.92 16.64 113.14 46.86s46.86 70.4 46.86 113.14-16.64 82.92-46.86 113.14-70.4 46.86-113.14 46.86-82.91-16.65-113.13-46.87-46.86-70.4-46.86-113.14 16.64-82.92 46.86-113.14c30.22-30.21 70.39-46.85 113.13-46.85m0-64c-123.71 0-224 100.29-224 224s100.29 224 224 224 224-100.29 224-224-100.29-224-224-224zM641.01 223.5h-362c-17.67 0-32 14.33-32 32s14.33 32 32 32h362c17.67 0 32-14.33 32-32s-14.33-32-32-32zM542.77 400.75H279.01c-17.67 0-32 14.33-32 32s14.33 32 32 32h263.76c17.67 0 32-14.33 32-32s-14.33-32-32-32zM369.76 578h-90.75c-17.67 0-32 14.33-32 32s14.33 32 32 32h90.75c17.67 0 32-14.33 32-32s-14.33-32-32-32z","p-id":"2770",fill:"#ffffff"}}),e("path",{attrs:{d:"M411.42 960h-198.4c-61.76 0-112-50.24-112-112V176c0-61.76 50.24-112 112-112H707c61.76 0 112 50.24 112 112v242.21c0 17.67-14.33 32-32 32s-32-14.33-32-32V176c0-26.47-21.53-48-48-48H213.02c-26.47 0-48 21.53-48 48v672c0 26.47 21.53 48 48 48h198.4c17.67 0 32 14.33 32 32s-14.33 32-32 32z","p-id":"2771",fill:"#ffffff"}}),e("path",{attrs:{d:"M688.56 827.75c-1.53 0-3.06-0.07-4.6-0.21-14.62-1.3-28.07-8.78-36.91-20.5l-47.97-63.65c-10.64-14.11-7.82-34.18 6.3-44.81 14.11-10.64 34.18-7.82 44.81 6.3l39.98 53.05 91.72-84.94c12.97-12.01 33.21-11.23 45.22 1.74 12.01 12.97 11.23 33.21-1.74 45.22L723.91 813.9a52.096 52.096 0 0 1-35.35 13.85z","p-id":"2772",fill:"#ffffff"}})]):t._e()]),n.title?e("p",{staticClass:"title",class:{len:n.length},on:{click:function(e){return t.showDetail(n)}}},[t._v(t._s(n.title)+" "),n.length?e("span",{staticClass:"tip"},[t._v(t._s(n.length))]):t._e()]):t._e(),e("p",[t._v(t._s(n.statusName))]),e("p",[t._v(t._s(n.desc))]),e("p",[t._v(t._s(n.principal))])])])})),e("span",{staticClass:"filling_line",staticStyle:{transform:"scaleX(0.28)"}})],2)])]),e("el-dialog",{attrs:{visible:t.open},on:{close:function(e){t.open=!1}}},[e("div",{staticStyle:{"max-height":"60vh",overflow:"auto"}},[e("el-steps",{attrs:{active:t.currentList.length,direction:"vertical"}},t._l(t.currentList,(function(n,a){return e("el-step",{key:a,attrs:{active:"",title:n.nodeName+"("+n.lineCode+")"}},[e("template",{slot:"description"},[e("p",[t._v(t._s(n.nodeDate))]),e("p",[t._v(t._s(n.status))])])],2)})),1)],1)])],1)},wt=[],xt={name:"ProgressEdit",props:["orderCode","url","money","salesman","customer","currency"],data:function(){return{finishStatus:["审核","自然关闭","短缺关闭","已完成","已核销","月结客户","完工","已核准","已认款","已提交","已创建"],waitStatus:["审核中","进行中","部分认款","部分核销"],orderStyle:{},orders:[],currentList:[],nodes:[],open:!1}},created:function(){var t=this;this.$request({method:"get",url:this.url+"/custom/crm/getOrderCurrentProgress",params:{orderCode:this.orderCode}}).asyncThen((function(e){if(e.data){e.data.forEach((function(e,n){t.finishStatus.indexOf(e.status)>-1?e.checkStatus=1:e.checkStatus=0})),e.data.forEach((function(e,n){t.finishStatus.indexOf(e.status)>-1?e.checkStatus="completed":t.waitStatus.indexOf(e.status)>-1?e.checkStatus="active":e.checkStatus="unactive","创建"!=e.nodeName&&"提交"!=e.nodeName||(e.checkStatus="completed");var a=0;e.list&&(a=e.list.length);var r="";e.dateDsc&&(r=e.dateDsc.concat(e.nodeDate));var i={title:e.nodeName,desc:r,principal:e.principal,status:e.checkStatus,statusName:e.status,children:e.list,length:a};t.nodes.push(i)}))}}))},methods:{showDetail:function(t){t.children&&t.children.length>0&&(this.open=!0,this.currentList=t.children)},handleClose:function(){this.open=!1,this.currentList=[]}}},Dt=xt,Ot=(n("3f21"),h(Dt,Ct,wt,!1,null,null,null)),kt=Ot.exports,Vt=[kt],Mt=Vt;function Et(t){return At(t)||zt(t)||Pt(t)||jt()}function jt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pt(t,e){if(t){if("string"===typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(t,e):void 0}}function zt(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function At(t){if(Array.isArray(t))return Tt(t)}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var Lt=[].concat(Et(bt),Et(St),Et(Mt)),$t=Lt,It={version:2,code:"PROGRESS",component:{edit:"ProgressEdit",read:"ProgressRead"}},Nt=It,Ht=[Nt],qt=Ht,Rt=function(t,e){t.component("apaas-custom-furnitureYouZuo",vt),$t&&Array.isArray($t)&&$t.forEach((function(e){t.component(e.name,e)})),qt&&Array.isArray(qt)&&qt.forEach((function(e){var n={widgetConfig:e};t.FormEngine&&t.FormEngine.registerCustomComponentConfig(n)}))},Ft={install:Rt},Yt=Ft;e["default"]=Yt}})}));